#include <zephyr/kernel.h>
#include <zephyr/device.h>
#include <zephyr/drivers/uart.h>
#include <zephyr/sys/printk.h>

#include <zephyr/logging/log.h>
LOG_MODULE_REGISTER(my_app);

#include "uart.h"
#include "frames.h"

struct uart_config cfg = {
    .baudrate = 115200,
    .parity = UART_CFG_PARITY_NONE,
    .stop_bits = UART_CFG_STOP_BITS_1,
    .data_bits = UART_CFG_DATA_BITS_8,
    .flow_ctrl = UART_CFG_FLOW_CTRL_NONE
};

//uint8_t buffer[MAX_BUFFER] = {0,1,2,3,4,5};

int main()
{
    k_msleep(250);
    printk("gedeeltelijk builden is gelukt\n");
    //device_init();

    //uart_receive(uart_dev);
    //uart_send(uart_dev);


    //make ACK
    //AckFrame Ack(buffer,0);
    //Ack.structToBitstream(buffer);
    /*
    for(int i = 0; i<6 ;i++) {
        k_msleep(250);
        LOG_INF("buffer[0] = 0x%02X", buffer[0]);;
    }*/
    //serialize
    //send ACK



    return 0;
}
